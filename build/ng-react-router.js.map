{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 9cc7b5b4222e87f73f10","webpack:///./index.js","webpack:///external \"angular\"","webpack:///external \"React\"","webpack:///external \"ReactDOM\"","webpack:///external \"lodash\""],"names":["templateProvider","err","uiView","tpl","options","state","basePath","Link","createElement","href","props","to","Component","_injector","browserHistory","push","args","get","path","trimStart","pathname","search","go","window","ReactRouter","provider","opts","$stateProvider","routeFactory","configure","routeResolver","url","params","type","raw","$timeout","$stateParams","statePath","then","routes","registerRoute","Promise","resolve","reject","router","Object","assign","getRoute","name","promise","resolver","component","resolveRoute","routePath","query","length","shift","childRoutes","indexRoute","children","matchRoutes","filter","route","reactRouter","$injector","restrict","replace","link","scope","elem","attrs","tmp","split","tree","$on","onScopeDestroy","ReactDOM","unmountComponentAtNode","$eval","unmountComponent","bind","module","directive"],"mappings":"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","file":"ng-react-router.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"angular\"), require(\"React\"), require(\"ReactDOM\"), require(\"lodash\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"angular\", \"React\", \"ReactDOM\", \"lodash\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ngReactRouter\"] = factory(require(\"angular\"), require(\"React\"), require(\"ReactDOM\"), require(\"lodash\"));\n\telse\n\t\troot[\"ngReactRouter\"] = factory(root[\"angular\"], root[\"React\"], root[\"ReactDOM\"], root[\"lodash\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_4__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 9cc7b5b4222e87f73f10","import angular from 'angular'\nimport React from 'react'\nimport { render } from 'react-dom'\nimport _ from 'lodash'\n\nconst templateProvider = (err,uiView)=>{\n  if(err){\n    throw err;\n  } \n  const tpl= `${uiView}`;\n  return tpl;\n}\nlet options ={\n  state:'react',basePath:'/react',templateProvider:templateProvider\n};\nclass Link extends React.Component {\n  render () {\n    return React.createElement('a', {\n      href: options.basePath + this.props.to,\n      ...this.props\n    })\n  }\n}\nlet _injector\nconst browserHistory = {\n  push (args) {\n    const state = _injector.get('$state')\n    const path = _.trimStart(args.pathname + args.search, '/');\n    state.go(options.state, { path });\n  }\n}\n\nwindow.ReactRouter = {\n  Link,\n  browserHistory\n}\n\nexport const provider= (opts,$stateProvider) =>{\n  options=routeFactory.configure(opts);\n  const {state , basePath ,routeResolver, templateProvider } = options;\n  $stateProvider.state(state, {\n    url: basePath+'/:path',\n    params : {path : {type : \"string\",raw : true}},\n    templateProvider: function ($timeout, $stateParams) {\n      const statePath = _.trimStart($stateParams.path, '/');\n      return routeResolver(statePath).then((routes)=>{\n        routeFactory.registerRoute(routes.path,routes);\n        return new Promise((resolve,reject)=>{\n            let router=`<react-router name=\"${routes.path}\" path=\"${statePath}\"></react-router>`;\n            resolve(templateProvider(null,router));\n        });\n      },(err)=>{\n        return new Promise((resolve,reject)=>{\n            resolve(templateProvider(err));\n        });\n      });\n    }\n  })\n}\nconst routeFactory = (() => {\n  const routes = {}\n  \n  return {\n    configure: (opts) =>{\n      return Object.assign({},options,opts);\n    },\n    getRoute: (name) => {\n      if (routes[name]) {\n        return routes[name].promise\n      }else {\n        routes[name] = {}\n        routes[name].promise = new Promise((resolve) => {\n          routes[name].resolver = resolve\n        })\n      }\n      return routes[name].promise\n    },\n    registerRoute: (name, component) => {\n      if (routes[name]) {\n        return routes[name].resolver(component)\n      }else {\n        routes[name] = {}\n        routes[name].promise = new Promise((resolve) => {\n          routes[name].resolver = resolve\n          resolve(component)\n        })\n      }\n      return routes[name].promise\n    }\n  }\n})()\nconst resolveRoute = (routePath, routes, query ) =>{\n  if(routePath.length==0){\n    return null;\n  }\n  const path = routePath.shift();\n  const { component, childRoutes, indexRoute } = routes;\n  let children = null;\n  if(routePath.length===0 && indexRoute){\n    children=React.createElement(indexRoute.component, null, null);\n  }else{\n    const matchRoutes=(childRoutes||[]).filter((route)=>route.path==routePath[0]);\n    children =resolveRoute(routePath,matchRoutes[0], query);\n  }\n  return React.createElement(component, null, children)\n}\nconst reactRouter = function ($injector) {\n  _injector = $injector\n  return {\n    restrict: 'E',\n    replace: true,\n    link: function (scope, elem, attrs) {\n      routeFactory.getRoute(attrs.name).then((routes) => {\n        const tmp =attrs.path.split('?');\n        const query=tmp[1]\n        const path = tmp[0].split('/');\n        const tree = resolveRoute(path,routes, query);\n        render(tree, elem[0])\n      })\n      scope.$on('$destroy', function () {\n        if (!attrs.onScopeDestroy) {\n          ReactDOM.unmountComponentAtNode(elem[0])\n        } else {\n          scope.$eval(attrs.onScopeDestroy, {\n            unmountComponent: ReactDOM.unmountComponentAtNode.bind(this, elem[0])\n          })\n        }\n      })\n    }\n  }\n};\nangular.module('ng-react-router', []).directive('reactRouter', ['$injector', reactRouter])\n\n\n\n// WEBPACK FOOTER //\n// ./index.js","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"angular\"\n// module id = 1\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"React\"\n// module id = 2\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ReactDOM\"\n// module id = 3\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash\"\n// module id = 4\n// module chunks = 0"],"sourceRoot":""}